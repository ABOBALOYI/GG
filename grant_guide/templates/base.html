<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Business Grants & Funding Opportunities South Africa | GrantsGuide.co.za{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block meta_description %}Find business grants, loans, and funding opportunities in South Africa. Free directory of government grants, NYDA funding, SEFA loans, and private sector funding for SMMEs, youth, and women entrepreneurs.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}business grants South Africa, SMME funding, government grants, NYDA grants, SEFA loans, business loans South Africa, funding for small business, entrepreneur funding, women business grants, youth business funding{% endblock %}">
    <meta name="author" content="GrantsGuide.co.za">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{% block canonical_url %}https://grantsguide.co.za{% endblock %}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{% block og_url %}https://grantsguide.co.za{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Business Grants & Funding South Africa | GrantsGuide.co.za{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Find business grants, loans, and funding opportunities in South Africa. Your complete guide to SMME funding.{% endblock %}">
    <meta property="og:site_name" content="GrantsGuide.co.za">
    <meta property="og:locale" content="en_ZA">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}Business Grants & Funding South Africa{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Find business grants, loans, and funding opportunities in South Africa.{% endblock %}">
    
    <!-- Geo Tags for South Africa -->
    <meta name="geo.region" content="ZA">
    <meta name="geo.placename" content="South Africa">
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "GrantsGuide.co.za",
        "url": "https://grantsguide.co.za",
        "description": "South Africa's comprehensive directory of business grants, loans, and funding opportunities for entrepreneurs and SMMEs.",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://grantsguide.co.za/opportunities/?search={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    {% block extra_schema %}{% endblock %}
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                        },
                        gold: {
                            400: '#facc15',
                            500: '#eab308',
                            600: '#ca8a04',
                        }
                    },
                    animation: {
                        'gradient': 'gradient 8s ease infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shimmer': 'shimmer 2s linear infinite',
                    },
                    keyframes: {
                        gradient: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-font-smoothing: antialiased;
            background: linear-gradient(135deg, #fafafa 0%, #f0fdf4 50%, #fafafa 100%);
        }
        
        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        /* Animated gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #16a34a 0%, #22c55e 25%, #eab308 50%, #22c55e 75%, #16a34a 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient 4s ease infinite;
        }
        
        /* Premium shadow */
        .premium-shadow {
            box-shadow: 
                0 0 0 1px rgba(0, 0, 0, 0.03),
                0 2px 4px rgba(0, 0, 0, 0.03),
                0 12px 24px rgba(0, 0, 0, 0.06),
                0 24px 48px rgba(0, 0, 0, 0.03);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 0 0 1px rgba(22, 163, 74, 0.1),
                0 4px 8px rgba(0, 0, 0, 0.04),
                0 24px 48px rgba(22, 163, 74, 0.15),
                0 48px 80px rgba(0, 0, 0, 0.08);
        }
        
        /* Glow effect */
        .glow {
            box-shadow: 0 0 60px rgba(22, 163, 74, 0.3);
        }
        
        /* Shimmer button */
        .btn-shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .btn-shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        /* Noise texture overlay */
        .noise::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            pointer-events: none;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a1a1a1; }
        
        /* Focus states */
        input:focus, select:focus, button:focus {
            outline: none;
            ring: 2px;
            ring-color: rgba(22, 163, 74, 0.3);
        }
        
        /* Mobile menu animation */
        .mobile-menu {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu.open {
            transform: translateX(0);
        }
    </style>
    <!-- Google AdSense -->
    {% if GOOGLE_ADSENSE_CLIENT_ID %}
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client={{ GOOGLE_ADSENSE_CLIENT_ID }}" crossorigin="anonymous"></script>
    {% endif %}
    {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen flex flex-col text-zinc-900">
    <!-- Decorative background orbs -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
        <div class="absolute top-0 -left-40 w-80 h-80 bg-brand-400/20 rounded-full blur-[100px] animate-pulse-slow"></div>
        <div class="absolute top-1/3 -right-40 w-96 h-96 bg-gold-400/15 rounded-full blur-[120px] animate-float"></div>
        <div class="absolute bottom-0 left-1/3 w-72 h-72 bg-brand-300/20 rounded-full blur-[80px] animate-pulse-slow" style="animation-delay: 2s;"></div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="{% url 'opportunities:home' %}" class="flex items-center space-x-3 group">
                    <div class="w-10 h-10 bg-gradient-to-br from-brand-500 to-brand-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/30 group-hover:shadow-brand-500/50 transition-all duration-300">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <span class="text-xl font-bold tracking-tight">
                        <span class="text-zinc-900">Grants</span><span class="gradient-text">Guide</span><span class="text-zinc-400 font-medium">.co.za</span>
                    </span>
                </a>
                
                <nav class="hidden md:flex items-center space-x-1">
                    <a href="{% url 'opportunities:home' %}" class="px-4 py-2 text-sm font-medium text-zinc-600 hover:text-zinc-900 hover:bg-zinc-100/80 rounded-lg transition-all duration-200">Home</a>
                    <a href="{% url 'opportunities:list' %}" class="px-4 py-2 text-sm font-medium text-zinc-600 hover:text-zinc-900 hover:bg-zinc-100/80 rounded-lg transition-all duration-200">Browse Funding</a>
                    <div class="w-px h-6 bg-zinc-200 mx-2"></div>
                    <a href="{% url 'opportunities:list' %}" class="btn-shimmer relative bg-gradient-to-r from-brand-600 to-brand-500 text-white px-5 py-2.5 rounded-xl text-sm font-semibold hover:from-brand-700 hover:to-brand-600 transition-all duration-300 shadow-lg shadow-brand-500/25 hover:shadow-brand-500/40 hover:-translate-y-0.5">
                        Find Opportunities
                    </a>
                </nav>
                
                <button id="mobile-menu-btn" class="md:hidden w-10 h-10 flex items-center justify-center rounded-lg hover:bg-zinc-100 transition-colors">
                    <svg class="w-6 h-6 text-zinc-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu fixed inset-y-0 right-0 w-72 bg-white shadow-2xl z-50 md:hidden">
        <div class="p-6">
            <button id="mobile-menu-close" class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-lg hover:bg-zinc-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <nav class="mt-12 space-y-2">
                <a href="{% url 'opportunities:home' %}" class="block px-4 py-3 text-zinc-900 font-medium rounded-xl hover:bg-zinc-50">Home</a>
                <a href="{% url 'opportunities:list' %}" class="block px-4 py-3 text-zinc-900 font-medium rounded-xl hover:bg-zinc-50">Browse Funding</a>
                <div class="pt-4">
                    <a href="{% url 'opportunities:list' %}" class="block w-full text-center bg-brand-600 text-white px-4 py-3 rounded-xl font-semibold">
                        Find Opportunities
                    </a>
                </div>
            </nav>
        </div>
    </div>
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 hidden md:hidden"></div>

    <!-- Main Content -->
    <main class="flex-grow">
        {% block content %}{% endblock %}
    </main>

    <!-- Disclaimer -->
    <div class="border-t border-zinc-200/50 bg-gradient-to-b from-zinc-50/50 to-white">
        {% include "includes/disclaimer.html" %}
    </div>

    <!-- Footer -->
    <footer class="relative border-t border-zinc-200/50 bg-white overflow-hidden">
        <div class="absolute inset-0 noise"></div>
        <div class="container mx-auto px-6 py-16 relative">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <div class="md:col-span-2">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-gradient-to-br from-brand-500 to-brand-600 rounded-xl flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <span class="text-xl font-bold">GrantsGuide<span class="text-zinc-400">.co.za</span></span>
                    </div>
                    <p class="text-zinc-500 leading-relaxed max-w-md">
                        Empowering South African businesses to discover and access funding opportunities. Your trusted guide to grants, loans, and equity funding.
                    </p>
                    <div class="flex items-center space-x-4 mt-6">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-brand-50 text-brand-700">
                            <span class="w-2 h-2 bg-brand-500 rounded-full mr-2 animate-pulse"></span>
                            Live Updates
                        </span>
                        <span class="text-xs text-zinc-400">Data refreshed weekly</span>
                    </div>
                </div>
                <div>
                    <h4 class="text-xs font-bold text-zinc-400 uppercase tracking-widest mb-4">Navigation</h4>
                    <ul class="space-y-3">
                        <li><a href="{% url 'opportunities:home' %}" class="text-zinc-600 hover:text-brand-600 transition-colors">Home</a></li>
                        <li><a href="{% url 'opportunities:list' %}" class="text-zinc-600 hover:text-brand-600 transition-colors">Browse Funding</a></li>
                        <li><a href="{% url 'opportunities:list' %}?funding_type=grant" class="text-zinc-600 hover:text-brand-600 transition-colors">Grants</a></li>
                        <li><a href="{% url 'opportunities:list' %}?funding_type=loan" class="text-zinc-600 hover:text-brand-600 transition-colors">Loans</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-xs font-bold text-zinc-400 uppercase tracking-widest mb-4">Legal</h4>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-zinc-600 hover:text-brand-600 transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="text-zinc-600 hover:text-brand-600 transition-colors">Terms of Service</a></li>
                        <li><a href="#" class="text-zinc-600 hover:text-brand-600 transition-colors">Disclaimer</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-16 pt-8 border-t border-zinc-100 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-zinc-400">© {% now "Y" %} GrantsGuide.co.za — Information platform only.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuClose = document.getElementById('mobile-menu-close');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        
        function openMenu() {
            mobileMenu.classList.add('open');
            mobileMenuOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        function closeMenu() {
            mobileMenu.classList.remove('open');
            mobileMenuOverlay.classList.add('hidden');
            document.body.style.overflow = '';
        }
        
        mobileMenuBtn?.addEventListener('click', openMenu);
        mobileMenuClose?.addEventListener('click', closeMenu);
        mobileMenuOverlay?.addEventListener('click', closeMenu);
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>
